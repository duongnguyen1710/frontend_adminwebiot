{"ast":null,"code":"import { api } from \"../../config/api\";\nimport { CREATE_PRODUCT_FAILURE, CREATE_PRODUCT_REQUEST, CREATE_PRODUCT_SUCCESS, GET_PRODUCT_BY_RESTAURANT_ID_FAILURE, GET_PRODUCT_BY_RESTAURANT_ID_REQUEST, GET_PRODUCT_BY_RESTAURANT_ID_SUCCESS } from \"./ActionType\";\n//import { CREATE_MENU_ITEM_FAILURE, CREATE_MENU_ITEM_REQUEST, CREATE_MENU_ITEM_SUCCESS, DELETE_MENU_ITEM_FAILURE, DELETE_MENU_ITEM_REQUEST, DELETE_MENU_ITEM_SUCCESS, GET_MENU_ITEMS_BY_RESTAURANT_ID_FAILURE, GET_MENU_ITEMS_BY_RESTAURANT_ID_REQUEST, GET_MENU_ITEMS_BY_RESTAURANT_ID_SUCCESS, SEARCH_MENU_ITEM_FAILURE, SEARCH_MENU_ITEM_REQUEST, SEARCH_MENU_ITEM_SUCCESS, UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE, UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST, UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS } from \"./ActionType\";\n\n// export const createMenuItem = ({menu, jwt}) => {\n//     return async (dispatch) => {\n//         dispatch({type: CREATE_MENU_ITEM_REQUEST});\n//         try {\n//             const {data} = await api.post(\"api/admin/food\", menu, \n//                 {\n//                     headers: {\n//                         Authorization: `Bearer ${jwt}`,\n//                     },\n//                 }\n//             );\n//             console.log(\"created menu\", data);\n//             dispatch({type: CREATE_MENU_ITEM_SUCCESS, payload:data});\n//         } catch (error) {\n//             console.log(\"catch error\", error);\n//             dispatch({type: CREATE_MENU_ITEM_FAILURE, payload:error});\n//         }\n//     };\n// };\n\nexport const getProductRestaurantId = reqData => {\n  return async dispatch => {\n    dispatch({\n      type: GET_PRODUCT_BY_RESTAURANT_ID_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.get(`/api/admin/product/page/${reqData.restaurantId}?page=${reqData.page || 0}&size=${reqData.size || 10}`, {\n        headers: {\n          Authorization: `Bearer ${reqData.jwt}`\n        }\n      });\n      console.log(\"Product by restaurant:\", data);\n      dispatch({\n        type: GET_PRODUCT_BY_RESTAURANT_ID_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      var _error$response;\n      console.log(\"Catch error:\", error);\n      dispatch({\n        type: GET_PRODUCT_BY_RESTAURANT_ID_FAILURE,\n        payload: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message\n      });\n    }\n  };\n};\n\n// export const searchMenuItem = ({keyword, jwt}) => {\n//     return async (dispatch) => {\n//         dispatch({type: SEARCH_MENU_ITEM_REQUEST});\n//         try {\n//             const {data} = await api.get(`api/food/search?name=${keyword}`,{\n//                 headers: {\n//                     Authorization: `Bearer ${jwt}`,\n//                 },\n//             });\n//             console.log(\"data--------\", data);\n//             dispatch({type: SEARCH_MENU_ITEM_SUCCESS, payload:data});\n//         } catch (error) {\n//             dispatch({type: SEARCH_MENU_ITEM_FAILURE, payload:error});\n//         }\n//     }\n// }\n\n// export const updateMenuItemsAvailability = ({foodId, jwt}) => {\n//     return async (dispatch) => {\n//         dispatch({type: UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST});\n//         try {\n//             const {data} = await api.put(\n//                 `/api/admin/food/${foodId}`,\n//                 {},\n//                 {\n//                     headers: {\n//                         Authorization: `Bearer ${jwt}`,\n//                     },\n//                 }\n//             );\n//             console.log(\"update menuItems Availability\", data);\n//             dispatch({type: UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS, payload:data});\n//         } catch (error) {\n//             console.log(\"error\", error);\n//             dispatch({type: UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE,\n//                 payload:error,\n//             });\n\n//         }\n//     };\n// };\n\n// export const deleteFoodAction = ({foodId, jwt}) =>\n//     async (dispatch) => {\n//         dispatch({type: DELETE_MENU_ITEM_REQUEST});\n//         try {\n//             const {data} = await api.delete(`/api/admin/food/${foodId}`, {\n//                 headers: {\n//                     Authorization: `Bearer ${jwt}`,\n//                 },\n//             });\n//             console.log(\"delete food\", data);\n//             dispatch({type: DELETE_MENU_ITEM_SUCCESS, payload: foodId});\n//         } catch (error) {\n//             dispatch({type: DELETE_MENU_ITEM_FAILURE, payload:error});\n//         }\n//     };\n\nexport const createProduct = (productData, jwt) => {\n  return async dispatch => {\n    dispatch({\n      type: CREATE_PRODUCT_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.post('/api/admin/product', productData, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      dispatch({\n        type: CREATE_PRODUCT_SUCCESS,\n        payload: data // Dữ liệu sản phẩm trả về từ server\n      });\n    } catch (error) {\n      var _error$response2;\n      dispatch({\n        type: CREATE_PRODUCT_FAILURE,\n        payload: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message // Thông báo lỗi từ server hoặc lỗi chung\n      });\n    }\n  };\n};","map":{"version":3,"names":["api","CREATE_PRODUCT_FAILURE","CREATE_PRODUCT_REQUEST","CREATE_PRODUCT_SUCCESS","GET_PRODUCT_BY_RESTAURANT_ID_FAILURE","GET_PRODUCT_BY_RESTAURANT_ID_REQUEST","GET_PRODUCT_BY_RESTAURANT_ID_SUCCESS","getProductRestaurantId","reqData","dispatch","type","data","get","restaurantId","page","size","headers","Authorization","jwt","console","log","payload","error","_error$response","response","message","createProduct","productData","post","_error$response2"],"sources":["C:/Users/DUONG/Desktop/Study/React/frontend_webiot/frontend_iot/src/componet/State/Product/Action.js"],"sourcesContent":["\r\nimport { api } from \"../../config/api\";\r\nimport { CREATE_PRODUCT_FAILURE, CREATE_PRODUCT_REQUEST, CREATE_PRODUCT_SUCCESS, GET_PRODUCT_BY_RESTAURANT_ID_FAILURE, GET_PRODUCT_BY_RESTAURANT_ID_REQUEST, GET_PRODUCT_BY_RESTAURANT_ID_SUCCESS } from \"./ActionType\";\r\n//import { CREATE_MENU_ITEM_FAILURE, CREATE_MENU_ITEM_REQUEST, CREATE_MENU_ITEM_SUCCESS, DELETE_MENU_ITEM_FAILURE, DELETE_MENU_ITEM_REQUEST, DELETE_MENU_ITEM_SUCCESS, GET_MENU_ITEMS_BY_RESTAURANT_ID_FAILURE, GET_MENU_ITEMS_BY_RESTAURANT_ID_REQUEST, GET_MENU_ITEMS_BY_RESTAURANT_ID_SUCCESS, SEARCH_MENU_ITEM_FAILURE, SEARCH_MENU_ITEM_REQUEST, SEARCH_MENU_ITEM_SUCCESS, UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE, UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST, UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS } from \"./ActionType\";\r\n\r\n// export const createMenuItem = ({menu, jwt}) => {\r\n//     return async (dispatch) => {\r\n//         dispatch({type: CREATE_MENU_ITEM_REQUEST});\r\n//         try {\r\n//             const {data} = await api.post(\"api/admin/food\", menu, \r\n//                 {\r\n//                     headers: {\r\n//                         Authorization: `Bearer ${jwt}`,\r\n//                     },\r\n//                 }\r\n//             );\r\n//             console.log(\"created menu\", data);\r\n//             dispatch({type: CREATE_MENU_ITEM_SUCCESS, payload:data});\r\n//         } catch (error) {\r\n//             console.log(\"catch error\", error);\r\n//             dispatch({type: CREATE_MENU_ITEM_FAILURE, payload:error});\r\n//         }\r\n//     };\r\n// };\r\n\r\nexport const getProductRestaurantId = (reqData) => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: GET_PRODUCT_BY_RESTAURANT_ID_REQUEST });\r\n        try {\r\n            const { data } = await api.get(\r\n                `/api/admin/product/page/${reqData.restaurantId}?page=${reqData.page || 0}&size=${reqData.size || 10}`,\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${reqData.jwt}`,\r\n                    },\r\n                }\r\n            );\r\n            console.log(\"Product by restaurant:\", data);\r\n            dispatch({ type: GET_PRODUCT_BY_RESTAURANT_ID_SUCCESS, payload: data });\r\n        } catch (error) {\r\n            console.log(\"Catch error:\", error);\r\n            dispatch({ type: GET_PRODUCT_BY_RESTAURANT_ID_FAILURE, payload: error.response?.data || error.message });\r\n        }\r\n    };\r\n};\r\n\r\n\r\n// export const searchMenuItem = ({keyword, jwt}) => {\r\n//     return async (dispatch) => {\r\n//         dispatch({type: SEARCH_MENU_ITEM_REQUEST});\r\n//         try {\r\n//             const {data} = await api.get(`api/food/search?name=${keyword}`,{\r\n//                 headers: {\r\n//                     Authorization: `Bearer ${jwt}`,\r\n//                 },\r\n//             });\r\n//             console.log(\"data--------\", data);\r\n//             dispatch({type: SEARCH_MENU_ITEM_SUCCESS, payload:data});\r\n//         } catch (error) {\r\n//             dispatch({type: SEARCH_MENU_ITEM_FAILURE, payload:error});\r\n//         }\r\n//     }\r\n// }\r\n\r\n// export const updateMenuItemsAvailability = ({foodId, jwt}) => {\r\n//     return async (dispatch) => {\r\n//         dispatch({type: UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST});\r\n//         try {\r\n//             const {data} = await api.put(\r\n//                 `/api/admin/food/${foodId}`,\r\n//                 {},\r\n//                 {\r\n//                     headers: {\r\n//                         Authorization: `Bearer ${jwt}`,\r\n//                     },\r\n//                 }\r\n//             );\r\n//             console.log(\"update menuItems Availability\", data);\r\n//             dispatch({type: UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS, payload:data});\r\n//         } catch (error) {\r\n//             console.log(\"error\", error);\r\n//             dispatch({type: UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE,\r\n//                 payload:error,\r\n//             });\r\n            \r\n//         }\r\n//     };\r\n// };\r\n\r\n// export const deleteFoodAction = ({foodId, jwt}) =>\r\n//     async (dispatch) => {\r\n//         dispatch({type: DELETE_MENU_ITEM_REQUEST});\r\n//         try {\r\n//             const {data} = await api.delete(`/api/admin/food/${foodId}`, {\r\n//                 headers: {\r\n//                     Authorization: `Bearer ${jwt}`,\r\n//                 },\r\n//             });\r\n//             console.log(\"delete food\", data);\r\n//             dispatch({type: DELETE_MENU_ITEM_SUCCESS, payload: foodId});\r\n//         } catch (error) {\r\n//             dispatch({type: DELETE_MENU_ITEM_FAILURE, payload:error});\r\n//         }\r\n//     };\r\n\r\nexport const createProduct = (productData, jwt) => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: CREATE_PRODUCT_REQUEST });\r\n\r\n        try {\r\n            const { data } = await api.post(\r\n                '/api/admin/product',\r\n                productData,\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${jwt}`,\r\n                    },\r\n                }\r\n            );\r\n\r\n            dispatch({\r\n                type: CREATE_PRODUCT_SUCCESS,\r\n                payload: data, // Dữ liệu sản phẩm trả về từ server\r\n            });\r\n        } catch (error) {\r\n            dispatch({\r\n                type: CREATE_PRODUCT_FAILURE,\r\n                payload: error.response?.data || error.message, // Thông báo lỗi từ server hoặc lỗi chung\r\n            });\r\n        }\r\n    };\r\n};"],"mappings":"AACA,SAASA,GAAG,QAAQ,kBAAkB;AACtC,SAASC,sBAAsB,EAAEC,sBAAsB,EAAEC,sBAAsB,EAAEC,oCAAoC,EAAEC,oCAAoC,EAAEC,oCAAoC,QAAQ,cAAc;AACvN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,sBAAsB,GAAIC,OAAO,IAAK;EAC/C,OAAO,MAAOC,QAAQ,IAAK;IACvBA,QAAQ,CAAC;MAAEC,IAAI,EAAEL;IAAqC,CAAC,CAAC;IACxD,IAAI;MACA,MAAM;QAAEM;MAAK,CAAC,GAAG,MAAMX,GAAG,CAACY,GAAG,CAC1B,2BAA2BJ,OAAO,CAACK,YAAY,SAASL,OAAO,CAACM,IAAI,IAAI,CAAC,SAASN,OAAO,CAACO,IAAI,IAAI,EAAE,EAAE,EACtG;QACIC,OAAO,EAAE;UACLC,aAAa,EAAE,UAAUT,OAAO,CAACU,GAAG;QACxC;MACJ,CACJ,CAAC;MACDC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAET,IAAI,CAAC;MAC3CF,QAAQ,CAAC;QAAEC,IAAI,EAAEJ,oCAAoC;QAAEe,OAAO,EAAEV;MAAK,CAAC,CAAC;IAC3E,CAAC,CAAC,OAAOW,KAAK,EAAE;MAAA,IAAAC,eAAA;MACZJ,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEE,KAAK,CAAC;MAClCb,QAAQ,CAAC;QAAEC,IAAI,EAAEN,oCAAoC;QAAEiB,OAAO,EAAE,EAAAE,eAAA,GAAAD,KAAK,CAACE,QAAQ,cAAAD,eAAA,uBAAdA,eAAA,CAAgBZ,IAAI,KAAIW,KAAK,CAACG;MAAQ,CAAC,CAAC;IAC5G;EACJ,CAAC;AACL,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,aAAa,GAAGA,CAACC,WAAW,EAAET,GAAG,KAAK;EAC/C,OAAO,MAAOT,QAAQ,IAAK;IACvBA,QAAQ,CAAC;MAAEC,IAAI,EAAER;IAAuB,CAAC,CAAC;IAE1C,IAAI;MACA,MAAM;QAAES;MAAK,CAAC,GAAG,MAAMX,GAAG,CAAC4B,IAAI,CAC3B,oBAAoB,EACpBD,WAAW,EACX;QACIX,OAAO,EAAE;UACLC,aAAa,EAAE,UAAUC,GAAG;QAChC;MACJ,CACJ,CAAC;MAEDT,QAAQ,CAAC;QACLC,IAAI,EAAEP,sBAAsB;QAC5BkB,OAAO,EAAEV,IAAI,CAAE;MACnB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOW,KAAK,EAAE;MAAA,IAAAO,gBAAA;MACZpB,QAAQ,CAAC;QACLC,IAAI,EAAET,sBAAsB;QAC5BoB,OAAO,EAAE,EAAAQ,gBAAA,GAAAP,KAAK,CAACE,QAAQ,cAAAK,gBAAA,uBAAdA,gBAAA,CAAgBlB,IAAI,KAAIW,KAAK,CAACG,OAAO,CAAE;MACpD,CAAC,CAAC;IACN;EACJ,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}