{"ast":null,"code":"import { GET_ORDERS_FAILURE, GET_ORDERS_REQUEST, GET_ORDERS_SUCCESS, GET_ORDERSID_FAILURE, GET_ORDERSID_REQUEST, GET_ORDERSID_SUCCESS, GET_TOTAL_PRICE_ORDERS_FAILURE, GET_TOTAL_PRICE_ORDERS_REQUEST, GET_TOTAL_PRICE_ORDERS_SUCCESS, GET_USERS_ORDERS_FAILURE, GET_USERS_ORDERS_REQUEST, GET_USERS_ORDERS_SUCCESS, UPDATE_ORDERS_FAILURE, UPDATE_ORDERS_REQUEST, UPDATE_ORDERS_SUCCESS } from \"./ActionTypes\";\nconst initialState = {\n  orders: [],\n  // Danh sách đơn hàng\n  loading: false,\n  // Trạng thái đang tải\n  error: null,\n  // Lỗi nếu có\n  page: 0,\n  // Trang hiện tại\n  size: 10,\n  // Số phần tử trên mỗi trang\n  totalElements: 0,\n  // Tổng số phần tử\n  totalPages: 0,\n  // Tổng số trang\n  selectedOrder: null,\n  // Chi tiết đơn hàng được chọn\n  orderLoading: false,\n  // Trạng thái loading cho chi tiết đơn hàng\n  orderError: null,\n  // Lỗi khi lấy chi tiết đơn hàng\n  updating: false,\n  // Trạng thái đang cập nhật đơn hàng\n  updateError: null,\n  // Lỗi khi cập nhật đơn hàng\n  updateSuccess: false,\n  // Trạng thái cập nhật thành công\n  totalRevenue: null,\n  // Tổng doanh thu\n  revenueLoading: false,\n  // Trạng thái đang tải tổng doanh thu\n  revenueError: null // Lỗi khi tải tổng doanh thu\n};\nexport const orderReducer = (state = initialState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case GET_USERS_ORDERS_REQUEST:\n      return {\n        ...state,\n        error: null,\n        loading: true\n      };\n    case GET_USERS_ORDERS_SUCCESS:\n      return {\n        ...state,\n        error: null,\n        loading: false,\n        orders: payload\n      };\n    case GET_USERS_ORDERS_FAILURE:\n      return {\n        ...state,\n        error: payload,\n        loading: false\n      };\n    case GET_ORDERS_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case GET_ORDERS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        orders: payload.content,\n        // Lấy danh sách đơn hàng từ payload\n        page: payload.pageable.pageNumber,\n        size: payload.pageable.pageSize,\n        totalElements: payload.totalElements,\n        totalPages: payload.totalPages\n      };\n    case GET_ORDERS_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: payload\n      };\n    // Lấy chi tiết đơn hàng theo ID\n    case GET_ORDERSID_REQUEST:\n      return {\n        ...state,\n        orderLoading: true,\n        orderError: null,\n        selectedOrder: null // Reset chi tiết đơn hàng trước khi gọi API mới\n      };\n    case GET_ORDERSID_SUCCESS:\n      return {\n        ...state,\n        orderLoading: false,\n        selectedOrder: payload,\n        // Lưu chi tiết đơn hàng từ API\n        orderError: null\n      };\n    case GET_ORDERSID_FAILURE:\n      return {\n        ...state,\n        orderLoading: false,\n        orderError: payload\n      };\n    case UPDATE_ORDERS_REQUEST:\n      return {\n        ...state,\n        updating: true,\n        updateError: null,\n        updateSuccess: false\n      };\n    case UPDATE_ORDERS_SUCCESS:\n      return {\n        ...state,\n        updating: false,\n        updateError: null,\n        updateSuccess: true,\n        // Cập nhật trạng thái trong danh sách orders\n        orders: state.orders.map(order => order.id === payload.id ? {\n          ...order,\n          orderStatus: payload.orderStatus\n        } : order)\n      };\n    case UPDATE_ORDERS_FAILURE:\n      return {\n        ...state,\n        updating: false,\n        updateError: payload,\n        updateSuccess: false\n      };\n    case GET_TOTAL_PRICE_ORDERS_REQUEST:\n      return {\n        ...state,\n        revenueLoading: true,\n        revenueError: null\n      };\n    case GET_TOTAL_PRICE_ORDERS_SUCCESS:\n      return {\n        ...state,\n        revenueLoading: false,\n        totalRevenue: payload\n      };\n    case GET_TOTAL_PRICE_ORDERS_FAILURE:\n      return {\n        ...state,\n        revenueLoading: false,\n        revenueError: payload\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["GET_ORDERS_FAILURE","GET_ORDERS_REQUEST","GET_ORDERS_SUCCESS","GET_ORDERSID_FAILURE","GET_ORDERSID_REQUEST","GET_ORDERSID_SUCCESS","GET_TOTAL_PRICE_ORDERS_FAILURE","GET_TOTAL_PRICE_ORDERS_REQUEST","GET_TOTAL_PRICE_ORDERS_SUCCESS","GET_USERS_ORDERS_FAILURE","GET_USERS_ORDERS_REQUEST","GET_USERS_ORDERS_SUCCESS","UPDATE_ORDERS_FAILURE","UPDATE_ORDERS_REQUEST","UPDATE_ORDERS_SUCCESS","initialState","orders","loading","error","page","size","totalElements","totalPages","selectedOrder","orderLoading","orderError","updating","updateError","updateSuccess","totalRevenue","revenueLoading","revenueError","orderReducer","state","type","payload","content","pageable","pageNumber","pageSize","map","order","id","orderStatus"],"sources":["C:/Users/DUONG/Desktop/Study/React/frontend_webiot/frontend_iot/src/componet/State/Order/Reducer.js"],"sourcesContent":["import {\r\n  GET_ORDERS_FAILURE,\r\n  GET_ORDERS_REQUEST,\r\n  GET_ORDERS_SUCCESS,\r\n  GET_ORDERSID_FAILURE,\r\n  GET_ORDERSID_REQUEST,\r\n  GET_ORDERSID_SUCCESS,\r\n  GET_TOTAL_PRICE_ORDERS_FAILURE,\r\n  GET_TOTAL_PRICE_ORDERS_REQUEST,\r\n  GET_TOTAL_PRICE_ORDERS_SUCCESS,\r\n  GET_USERS_ORDERS_FAILURE,\r\n  GET_USERS_ORDERS_REQUEST,\r\n  GET_USERS_ORDERS_SUCCESS,\r\n  UPDATE_ORDERS_FAILURE,\r\n  UPDATE_ORDERS_REQUEST,\r\n  UPDATE_ORDERS_SUCCESS,\r\n} from \"./ActionTypes\";\r\nconst initialState = {\r\n    orders: [],       // Danh sách đơn hàng\r\n    loading: false,   // Trạng thái đang tải\r\n    error: null,      // Lỗi nếu có\r\n    page: 0,          // Trang hiện tại\r\n    size: 10,         // Số phần tử trên mỗi trang\r\n    totalElements: 0, // Tổng số phần tử\r\n    totalPages: 0,    // Tổng số trang\r\n    selectedOrder: null, // Chi tiết đơn hàng được chọn\r\n    orderLoading: false, // Trạng thái loading cho chi tiết đơn hàng\r\n    orderError: null,    // Lỗi khi lấy chi tiết đơn hàng\r\n    updating: false,     // Trạng thái đang cập nhật đơn hàng\r\n    updateError: null,   // Lỗi khi cập nhật đơn hàng\r\n    updateSuccess: false, // Trạng thái cập nhật thành công\r\n    totalRevenue: null,  // Tổng doanh thu\r\n    revenueLoading: false, // Trạng thái đang tải tổng doanh thu\r\n    revenueError: null,  // Lỗi khi tải tổng doanh thu\r\n};\r\nexport const orderReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case GET_USERS_ORDERS_REQUEST:\r\n      return { ...state, error: null, loading: true };\r\n    case GET_USERS_ORDERS_SUCCESS:\r\n      return { ...state, error: null, loading: false, orders: payload };\r\n    case GET_USERS_ORDERS_FAILURE:\r\n      return { ...state, error: payload, loading: false };\r\n\r\n    case GET_ORDERS_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n\r\n    case GET_ORDERS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        orders: payload.content, // Lấy danh sách đơn hàng từ payload\r\n        page: payload.pageable.pageNumber,\r\n        size: payload.pageable.pageSize,\r\n        totalElements: payload.totalElements,\r\n        totalPages: payload.totalPages,\r\n      };\r\n\r\n    case GET_ORDERS_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: payload,\r\n      };\r\n    // Lấy chi tiết đơn hàng theo ID\r\n    case GET_ORDERSID_REQUEST:\r\n      return {\r\n        ...state,\r\n        orderLoading: true,\r\n        orderError: null,\r\n        selectedOrder: null, // Reset chi tiết đơn hàng trước khi gọi API mới\r\n      };\r\n\r\n    case GET_ORDERSID_SUCCESS:\r\n      return {\r\n        ...state,\r\n        orderLoading: false,\r\n        selectedOrder: payload, // Lưu chi tiết đơn hàng từ API\r\n        orderError: null,\r\n      };\r\n\r\n    case GET_ORDERSID_FAILURE:\r\n      return {\r\n        ...state,\r\n        orderLoading: false,\r\n        orderError: payload,\r\n      };\r\n    \r\n      case UPDATE_ORDERS_REQUEST:\r\n        return {\r\n            ...state,\r\n            updating: true,\r\n            updateError: null,\r\n            updateSuccess: false,\r\n        };\r\n\r\n    case UPDATE_ORDERS_SUCCESS:\r\n        return {\r\n            ...state,\r\n            updating: false,\r\n            updateError: null,\r\n            updateSuccess: true,\r\n            // Cập nhật trạng thái trong danh sách orders\r\n            orders: state.orders.map((order) =>\r\n                order.id === payload.id ? { ...order, orderStatus: payload.orderStatus } : order\r\n            ),\r\n        };\r\n\r\n    case UPDATE_ORDERS_FAILURE:\r\n        return {\r\n            ...state,\r\n            updating: false,\r\n            updateError: payload,\r\n            updateSuccess: false,\r\n        };\r\n\r\n        case GET_TOTAL_PRICE_ORDERS_REQUEST:\r\n            return {\r\n                ...state,\r\n                revenueLoading: true,\r\n                revenueError: null,\r\n            };\r\n        case GET_TOTAL_PRICE_ORDERS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                revenueLoading: false,\r\n                totalRevenue: payload,\r\n            };\r\n        case GET_TOTAL_PRICE_ORDERS_FAILURE:\r\n            return {\r\n                ...state,\r\n                revenueLoading: false,\r\n                revenueError: payload,\r\n            };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SACEA,kBAAkB,EAClBC,kBAAkB,EAClBC,kBAAkB,EAClBC,oBAAoB,EACpBC,oBAAoB,EACpBC,oBAAoB,EACpBC,8BAA8B,EAC9BC,8BAA8B,EAC9BC,8BAA8B,EAC9BC,wBAAwB,EACxBC,wBAAwB,EACxBC,wBAAwB,EACxBC,qBAAqB,EACrBC,qBAAqB,EACrBC,qBAAqB,QAChB,eAAe;AACtB,MAAMC,YAAY,GAAG;EACjBC,MAAM,EAAE,EAAE;EAAQ;EAClBC,OAAO,EAAE,KAAK;EAAI;EAClBC,KAAK,EAAE,IAAI;EAAO;EAClBC,IAAI,EAAE,CAAC;EAAW;EAClBC,IAAI,EAAE,EAAE;EAAU;EAClBC,aAAa,EAAE,CAAC;EAAE;EAClBC,UAAU,EAAE,CAAC;EAAK;EAClBC,aAAa,EAAE,IAAI;EAAE;EACrBC,YAAY,EAAE,KAAK;EAAE;EACrBC,UAAU,EAAE,IAAI;EAAK;EACrBC,QAAQ,EAAE,KAAK;EAAM;EACrBC,WAAW,EAAE,IAAI;EAAI;EACrBC,aAAa,EAAE,KAAK;EAAE;EACtBC,YAAY,EAAE,IAAI;EAAG;EACrBC,cAAc,EAAE,KAAK;EAAE;EACvBC,YAAY,EAAE,IAAI,CAAG;AACzB,CAAC;AACD,OAAO,MAAMC,YAAY,GAAGA,CAACC,KAAK,GAAGlB,YAAY,EAAE;EAAEmB,IAAI;EAAEC;AAAQ,CAAC,KAAK;EACvE,QAAQD,IAAI;IACV,KAAKxB,wBAAwB;MAC3B,OAAO;QAAE,GAAGuB,KAAK;QAAEf,KAAK,EAAE,IAAI;QAAED,OAAO,EAAE;MAAK,CAAC;IACjD,KAAKN,wBAAwB;MAC3B,OAAO;QAAE,GAAGsB,KAAK;QAAEf,KAAK,EAAE,IAAI;QAAED,OAAO,EAAE,KAAK;QAAED,MAAM,EAAEmB;MAAQ,CAAC;IACnE,KAAK1B,wBAAwB;MAC3B,OAAO;QAAE,GAAGwB,KAAK;QAAEf,KAAK,EAAEiB,OAAO;QAAElB,OAAO,EAAE;MAAM,CAAC;IAErD,KAAKhB,kBAAkB;MACrB,OAAO;QACL,GAAGgC,KAAK;QACRhB,OAAO,EAAE,IAAI;QACbC,KAAK,EAAE;MACT,CAAC;IAEH,KAAKhB,kBAAkB;MACrB,OAAO;QACL,GAAG+B,KAAK;QACRhB,OAAO,EAAE,KAAK;QACdD,MAAM,EAAEmB,OAAO,CAACC,OAAO;QAAE;QACzBjB,IAAI,EAAEgB,OAAO,CAACE,QAAQ,CAACC,UAAU;QACjClB,IAAI,EAAEe,OAAO,CAACE,QAAQ,CAACE,QAAQ;QAC/BlB,aAAa,EAAEc,OAAO,CAACd,aAAa;QACpCC,UAAU,EAAEa,OAAO,CAACb;MACtB,CAAC;IAEH,KAAKtB,kBAAkB;MACrB,OAAO;QACL,GAAGiC,KAAK;QACRhB,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEiB;MACT,CAAC;IACH;IACA,KAAK/B,oBAAoB;MACvB,OAAO;QACL,GAAG6B,KAAK;QACRT,YAAY,EAAE,IAAI;QAClBC,UAAU,EAAE,IAAI;QAChBF,aAAa,EAAE,IAAI,CAAE;MACvB,CAAC;IAEH,KAAKlB,oBAAoB;MACvB,OAAO;QACL,GAAG4B,KAAK;QACRT,YAAY,EAAE,KAAK;QACnBD,aAAa,EAAEY,OAAO;QAAE;QACxBV,UAAU,EAAE;MACd,CAAC;IAEH,KAAKtB,oBAAoB;MACvB,OAAO;QACL,GAAG8B,KAAK;QACRT,YAAY,EAAE,KAAK;QACnBC,UAAU,EAAEU;MACd,CAAC;IAED,KAAKtB,qBAAqB;MACxB,OAAO;QACH,GAAGoB,KAAK;QACRP,QAAQ,EAAE,IAAI;QACdC,WAAW,EAAE,IAAI;QACjBC,aAAa,EAAE;MACnB,CAAC;IAEL,KAAKd,qBAAqB;MACtB,OAAO;QACH,GAAGmB,KAAK;QACRP,QAAQ,EAAE,KAAK;QACfC,WAAW,EAAE,IAAI;QACjBC,aAAa,EAAE,IAAI;QACnB;QACAZ,MAAM,EAAEiB,KAAK,CAACjB,MAAM,CAACwB,GAAG,CAAEC,KAAK,IAC3BA,KAAK,CAACC,EAAE,KAAKP,OAAO,CAACO,EAAE,GAAG;UAAE,GAAGD,KAAK;UAAEE,WAAW,EAAER,OAAO,CAACQ;QAAY,CAAC,GAAGF,KAC/E;MACJ,CAAC;IAEL,KAAK7B,qBAAqB;MACtB,OAAO;QACH,GAAGqB,KAAK;QACRP,QAAQ,EAAE,KAAK;QACfC,WAAW,EAAEQ,OAAO;QACpBP,aAAa,EAAE;MACnB,CAAC;IAED,KAAKrB,8BAA8B;MAC/B,OAAO;QACH,GAAG0B,KAAK;QACRH,cAAc,EAAE,IAAI;QACpBC,YAAY,EAAE;MAClB,CAAC;IACL,KAAKvB,8BAA8B;MAC/B,OAAO;QACH,GAAGyB,KAAK;QACRH,cAAc,EAAE,KAAK;QACrBD,YAAY,EAAEM;MAClB,CAAC;IACL,KAAK7B,8BAA8B;MAC/B,OAAO;QACH,GAAG2B,KAAK;QACRH,cAAc,EAAE,KAAK;QACrBC,YAAY,EAAEI;MAClB,CAAC;IAET;MACE,OAAOF,KAAK;EAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}