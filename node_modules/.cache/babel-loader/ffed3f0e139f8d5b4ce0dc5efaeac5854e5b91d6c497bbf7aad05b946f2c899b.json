{"ast":null,"code":"import axios from \"axios\";\nimport { API_URL, api } from '../../config/api';\nimport { CREATE_CATEGORYITEM_SUCCESS, CREATE_CATEGORY_SUCCESS, CREATE_INGREDIENT_CATEGORY_SUCCESS, CREATE_INGREDIENT_SUCCESS, DELETE_CATEGORY_FAILURE, DELETE_CATEGORY_REQUEST, DELETE_CATEGORY_SUCCESS, GET_CATEGORYITEM, GET_CATEGORY_SUCCESS, GET_INGREDIENTS, GET_INGREDIENT_CATEGORY_SUCCESS, UPDATE_CATEGORY_FAILURE, UPDATE_CATEGORY_REQUEST, UPDATE_CATEGORY_SUCCESS, UPDATE_STOCK } from \"./ActionType\";\nexport const getCategoryItemOfRestaurant = ({\n  id,\n  jwt\n}) => {\n  return async dispatch => {\n    try {\n      const response = await api.get(`/api/admin/category/restaurant/${id}`, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"get all category item\", response.data);\n      dispatch({\n        type: GET_CATEGORYITEM,\n        payload: response.data\n      });\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const createCategoryItem = ({\n  data,\n  jwt\n}) => {\n  return async dispatch => {\n    try {\n      const response = await api.post(`/api/admin/category`, data, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"create categoryitem\", response.data);\n      dispatch({\n        type: CREATE_CATEGORYITEM_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const createCategory = ({\n  data,\n  jwt\n}) => {\n  console.log(\"data\", data, \"jwt\", jwt);\n  return async dispatch => {\n    try {\n      const response = await api.post(`/api/admin/category/category`, data, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"create  category\", response.data);\n      dispatch({\n        type: CREATE_CATEGORY_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const getCategory = ({\n  id,\n  jwt\n}) => {\n  return async dispatch => {\n    try {\n      const response = await api.get(`/api/admin/category/restaurant/${id}/category`, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"get category\", response.data);\n      dispatch({\n        type: GET_CATEGORY_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n};\nexport const deleteCategory = (categoryId, jwt) => {\n  return async dispatch => {\n    dispatch({\n      type: DELETE_CATEGORY_REQUEST\n    });\n    try {\n      const response = await api.delete(`/api/admin/category/${categoryId}`, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      dispatch({\n        type: DELETE_CATEGORY_SUCCESS,\n        payload: response.data // Thường trả về message từ server\n      });\n    } catch (error) {\n      var _error$response, _error$response$data;\n      dispatch({\n        type: DELETE_CATEGORY_FAILURE,\n        payload: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to delete category'\n      });\n    }\n  };\n};\nexport const updateCategory = (categoryId, updatedCategory, jwt) => {\n  return async dispatch => {\n    dispatch({\n      type: UPDATE_CATEGORY_REQUEST\n    });\n    try {\n      const response = await axios.put(`/api/categories/${categoryId}`, updatedCategory, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      dispatch({\n        type: UPDATE_CATEGORY_SUCCESS,\n        payload: response.data // Thường trả về object category đã cập nhật\n      });\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      dispatch({\n        type: UPDATE_CATEGORY_FAILURE,\n        payload: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to update category'\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","API_URL","api","CREATE_CATEGORYITEM_SUCCESS","CREATE_CATEGORY_SUCCESS","CREATE_INGREDIENT_CATEGORY_SUCCESS","CREATE_INGREDIENT_SUCCESS","DELETE_CATEGORY_FAILURE","DELETE_CATEGORY_REQUEST","DELETE_CATEGORY_SUCCESS","GET_CATEGORYITEM","GET_CATEGORY_SUCCESS","GET_INGREDIENTS","GET_INGREDIENT_CATEGORY_SUCCESS","UPDATE_CATEGORY_FAILURE","UPDATE_CATEGORY_REQUEST","UPDATE_CATEGORY_SUCCESS","UPDATE_STOCK","getCategoryItemOfRestaurant","id","jwt","dispatch","response","get","headers","Authorization","console","log","data","type","payload","error","createCategoryItem","post","createCategory","getCategory","deleteCategory","categoryId","delete","_error$response","_error$response$data","message","updateCategory","updatedCategory","put","_error$response2","_error$response2$data"],"sources":["C:/Users/DUONG/Desktop/Study/React/frontend_webiot/frontend_iot/src/componet/State/CategoryTest/Action.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { API_URL, api} from '../../config/api';\r\nimport { CREATE_CATEGORYITEM_SUCCESS, CREATE_CATEGORY_SUCCESS, CREATE_INGREDIENT_CATEGORY_SUCCESS, CREATE_INGREDIENT_SUCCESS, DELETE_CATEGORY_FAILURE, DELETE_CATEGORY_REQUEST, DELETE_CATEGORY_SUCCESS, GET_CATEGORYITEM, GET_CATEGORY_SUCCESS, GET_INGREDIENTS, GET_INGREDIENT_CATEGORY_SUCCESS, UPDATE_CATEGORY_FAILURE, UPDATE_CATEGORY_REQUEST, UPDATE_CATEGORY_SUCCESS, UPDATE_STOCK } from \"./ActionType\";\r\n\r\nexport const getCategoryItemOfRestaurant = ({id, jwt}) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await api.get(\r\n                `/api/admin/category/restaurant/${id}`,\r\n                {\r\n                    headers:{\r\n                        Authorization: `Bearer ${jwt}`,\r\n                    },\r\n                }\r\n            );\r\n            console.log(\"get all category item\", response.data);\r\n            dispatch({\r\n                type:GET_CATEGORYITEM,\r\n                payload:response.data,\r\n            });\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n        }\r\n    };\r\n};\r\n\r\nexport const createCategoryItem = ({data, jwt}) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await api.post(`/api/admin/category`, data, {\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                },\r\n            });\r\n            console.log(\"create categoryitem\", response.data);\r\n            dispatch({type:CREATE_CATEGORYITEM_SUCCESS, payload: response.data,});\r\n\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n        }\r\n    };\r\n};\r\n\r\nexport const createCategory = ({data,jwt}) => {\r\n    console.log(\"data\", data, \"jwt\", jwt);\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await api.post(`/api/admin/category/category`, data,{\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                },\r\n            });\r\n            console.log(\"create  category\", response.data);\r\n            dispatch({\r\n                type:CREATE_CATEGORY_SUCCESS,\r\n                payload: response.data,\r\n            });\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n        }\r\n    };\r\n};\r\n\r\nexport const getCategory = ({id, jwt}) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await api.get(\r\n                `/api/admin/category/restaurant/${id}/category`,\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${jwt}`,\r\n                    },\r\n                }\r\n            );\r\n            console.log(\"get category\", response.data);\r\n            dispatch({\r\n                type: GET_CATEGORY_SUCCESS,\r\n                payload:response.data,\r\n            });\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n        }\r\n    };\r\n};\r\n\r\nexport const deleteCategory = (categoryId, jwt) => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: DELETE_CATEGORY_REQUEST });\r\n\r\n        try {\r\n            const response = await api.delete(`/api/admin/category/${categoryId}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                },\r\n            });\r\n\r\n            dispatch({\r\n                type: DELETE_CATEGORY_SUCCESS,\r\n                payload: response.data, // Thường trả về message từ server\r\n            });\r\n        } catch (error) {\r\n            dispatch({\r\n                type: DELETE_CATEGORY_FAILURE,\r\n                payload: error.response?.data?.message || 'Failed to delete category',\r\n            });\r\n        }\r\n    };\r\n};\r\n\r\nexport const updateCategory = (categoryId, updatedCategory, jwt) => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: UPDATE_CATEGORY_REQUEST });\r\n\r\n        try {\r\n            const response = await axios.put(`/api/categories/${categoryId}`, updatedCategory, {\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                },\r\n            });\r\n\r\n            dispatch({\r\n                type: UPDATE_CATEGORY_SUCCESS,\r\n                payload: response.data, // Thường trả về object category đã cập nhật\r\n            });\r\n        } catch (error) {\r\n            dispatch({\r\n                type: UPDATE_CATEGORY_FAILURE,\r\n                payload: error.response?.data?.message || 'Failed to update category',\r\n            });\r\n        }\r\n    };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}