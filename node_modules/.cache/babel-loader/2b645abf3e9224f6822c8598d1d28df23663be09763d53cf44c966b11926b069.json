{"ast":null,"code":"import { api } from \"../../config/api\";\nimport { CREATE_MENU_ITEM_FAILURE, CREATE_MENU_ITEM_REQUEST, CREATE_MENU_ITEM_SUCCESS, DELETE_MENU_ITEM_FAILURE, DELETE_MENU_ITEM_REQUEST, DELETE_MENU_ITEM_SUCCESS, GET_MENU_ITEMS_BY_RESTAURANT_ID_FAILURE, GET_MENU_ITEMS_BY_RESTAURANT_ID_REQUEST, GET_MENU_ITEMS_BY_RESTAURANT_ID_SUCCESS, SEARCH_MENU_ITEM_FAILURE, SEARCH_MENU_ITEM_REQUEST, SEARCH_MENU_ITEM_SUCCESS, UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE, UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST, UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS } from \"./ActionType\";\nexport const createMenuItem = ({\n  menu,\n  jwt\n}) => {\n  return async dispatch => {\n    dispatch({\n      type: CREATE_MENU_ITEM_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.post(\"api/admin/food\", menu, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"created menu\", data);\n      dispatch({\n        type: CREATE_MENU_ITEM_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.log(\"catch error\", error);\n      dispatch({\n        type: CREATE_MENU_ITEM_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const getMenuItemsByRestaurantId = reqData => {\n  return async dispatch => {\n    dispatch({\n      type: GET_MENU_ITEMS_BY_RESTAURANT_ID_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.get(`/api/food/restaurant/${reqData.restaurantId}?vagetarian=${reqData.vegetarian}&nonveg=${reqData.nonveg}\n                    &seasonal=${reqData.seasonal}&food_category=${reqData.foodCategory}`, {\n        headers: {\n          Authorization: `Bearer ${reqData.jwt}`\n        }\n      });\n      console.log(\"menu item by restaurants\", data);\n      dispatch({\n        type: GET_MENU_ITEMS_BY_RESTAURANT_ID_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.log(\"catch error\", error);\n      dispatch({\n        type: GET_MENU_ITEMS_BY_RESTAURANT_ID_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const searchMenuItem = ({\n  keyword,\n  jwt\n}) => {\n  return async dispatch => {\n    dispatch({\n      type: SEARCH_MENU_ITEM_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.get(`api/food/search?name=${keyword}`, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"data--------\", data);\n      dispatch({\n        type: SEARCH_MENU_ITEM_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: SEARCH_MENU_ITEM_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const updateMenuItemsAvailability = ({\n  foodId,\n  jwt\n}) => {\n  return async dispatch => {\n    dispatch({\n      type: UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST\n    });\n    try {\n      const {\n        data\n      } = await api.put(`/api/admin/food/${foodId}`, {}, {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      });\n      console.log(\"update menuItems Availability\", data);\n      dispatch({\n        type: UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.log(\"error\", error);\n      dispatch({\n        type: UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE,\n        payload: error\n      });\n    }\n  };\n};\nexport const deleteFoodAction = ({\n  foodId,\n  jwt\n}) => async dispatch => {\n  dispatch({\n    type: DELETE_MENU_ITEM_REQUEST\n  });\n  try {\n    const {\n      data\n    } = await api.delete(`/api/admin/food/${foodId}`, {\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    });\n    console.log(\"delete food\", data);\n    dispatch({\n      type: DELETE_MENU_ITEM_SUCCESS,\n      payload: foodId\n    });\n  } catch (error) {\n    dispatch({\n      type: DELETE_MENU_ITEM_FAILURE,\n      payload: error\n    });\n  }\n};","map":{"version":3,"names":["api","CREATE_MENU_ITEM_FAILURE","CREATE_MENU_ITEM_REQUEST","CREATE_MENU_ITEM_SUCCESS","DELETE_MENU_ITEM_FAILURE","DELETE_MENU_ITEM_REQUEST","DELETE_MENU_ITEM_SUCCESS","GET_MENU_ITEMS_BY_RESTAURANT_ID_FAILURE","GET_MENU_ITEMS_BY_RESTAURANT_ID_REQUEST","GET_MENU_ITEMS_BY_RESTAURANT_ID_SUCCESS","SEARCH_MENU_ITEM_FAILURE","SEARCH_MENU_ITEM_REQUEST","SEARCH_MENU_ITEM_SUCCESS","UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE","UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST","UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS","createMenuItem","menu","jwt","dispatch","type","data","post","headers","Authorization","console","log","payload","error","getMenuItemsByRestaurantId","reqData","get","restaurantId","vegetarian","nonveg","seasonal","foodCategory","searchMenuItem","keyword","updateMenuItemsAvailability","foodId","put","deleteFoodAction","delete"],"sources":["C:/Users/DUONG/Desktop/Study/React/frontend_webiot/frontend_iot/src/componet/State/Menu/Action.js"],"sourcesContent":["\r\nimport { api } from \"../../config/api\";\r\nimport { CREATE_MENU_ITEM_FAILURE, CREATE_MENU_ITEM_REQUEST, CREATE_MENU_ITEM_SUCCESS, DELETE_MENU_ITEM_FAILURE, DELETE_MENU_ITEM_REQUEST, DELETE_MENU_ITEM_SUCCESS, GET_MENU_ITEMS_BY_RESTAURANT_ID_FAILURE, GET_MENU_ITEMS_BY_RESTAURANT_ID_REQUEST, GET_MENU_ITEMS_BY_RESTAURANT_ID_SUCCESS, SEARCH_MENU_ITEM_FAILURE, SEARCH_MENU_ITEM_REQUEST, SEARCH_MENU_ITEM_SUCCESS, UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE, UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST, UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS } from \"./ActionType\";\r\n\r\nexport const createMenuItem = ({menu, jwt}) => {\r\n    return async (dispatch) => {\r\n        dispatch({type: CREATE_MENU_ITEM_REQUEST});\r\n        try {\r\n            const {data} = await api.post(\"api/admin/food\", menu, \r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${jwt}`,\r\n                    },\r\n                }\r\n            );\r\n            console.log(\"created menu\", data);\r\n            dispatch({type: CREATE_MENU_ITEM_SUCCESS, payload:data});\r\n        } catch (error) {\r\n            console.log(\"catch error\", error);\r\n            dispatch({type: CREATE_MENU_ITEM_FAILURE, payload:error});\r\n        }\r\n    };\r\n};\r\n\r\nexport const getMenuItemsByRestaurantId = (reqData) =>{\r\n    return async (dispatch) =>{\r\n        dispatch({type: GET_MENU_ITEMS_BY_RESTAURANT_ID_REQUEST});\r\n        try {\r\n            const {data} = await api.get(\r\n                `/api/food/restaurant/${reqData.restaurantId}?vagetarian=${reqData.\r\n                    vegetarian}&nonveg=${reqData.nonveg}\r\n                    &seasonal=${reqData.seasonal}&food_category=${reqData.foodCategory}`,\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${reqData.jwt}`,\r\n                    },\r\n                }\r\n            );\r\n            console.log(\"menu item by restaurants\", data);\r\n            dispatch({type: GET_MENU_ITEMS_BY_RESTAURANT_ID_SUCCESS, payload: data});\r\n        } catch (error) {\r\n            console.log(\"catch error\", error);\r\n            dispatch({type: GET_MENU_ITEMS_BY_RESTAURANT_ID_FAILURE, payload: error});\r\n        }\r\n    };\r\n};\r\n\r\nexport const searchMenuItem = ({keyword, jwt}) => {\r\n    return async (dispatch) => {\r\n        dispatch({type: SEARCH_MENU_ITEM_REQUEST});\r\n        try {\r\n            const {data} = await api.get(`api/food/search?name=${keyword}`,{\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                },\r\n            });\r\n            console.log(\"data--------\", data);\r\n            dispatch({type: SEARCH_MENU_ITEM_SUCCESS, payload:data});\r\n        } catch (error) {\r\n            dispatch({type: SEARCH_MENU_ITEM_FAILURE, payload:error});\r\n        }\r\n    }\r\n}\r\n\r\nexport const updateMenuItemsAvailability = ({foodId, jwt}) => {\r\n    return async (dispatch) => {\r\n        dispatch({type: UPDATE_MENU_ITEMS_AVAILABILITY_REQUEST});\r\n        try {\r\n            const {data} = await api.put(\r\n                `/api/admin/food/${foodId}`,\r\n                {},\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${jwt}`,\r\n                    },\r\n                }\r\n            );\r\n            console.log(\"update menuItems Availability\", data);\r\n            dispatch({type: UPDATE_MENU_ITEMS_AVAILABILITY_SUCCESS, payload:data});\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n            dispatch({type: UPDATE_MENU_ITEMS_AVAILABILITY_FAILURE,\r\n                payload:error,\r\n            });\r\n            \r\n        }\r\n    };\r\n};\r\n\r\nexport const deleteFoodAction = ({foodId, jwt}) =>\r\n    async (dispatch) => {\r\n        dispatch({type: DELETE_MENU_ITEM_REQUEST});\r\n        try {\r\n            const {data} = await api.delete(`/api/admin/food/${foodId}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${jwt}`,\r\n                },\r\n            });\r\n            console.log(\"delete food\", data);\r\n            dispatch({type: DELETE_MENU_ITEM_SUCCESS, payload: foodId});\r\n        } catch (error) {\r\n            dispatch({type: DELETE_MENU_ITEM_FAILURE, payload:error});\r\n        }\r\n    };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}