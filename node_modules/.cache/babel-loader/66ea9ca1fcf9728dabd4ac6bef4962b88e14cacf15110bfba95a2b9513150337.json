{"ast":null,"code":"import * as actionTypes from \"./ActionType\";\nconst initialState = {\n  products: [],\n  loading: false,\n  error: null,\n  message: null,\n  pagination: {\n    page: 0,\n    size: 10,\n    totalPages: 0,\n    totalElements: 0\n  }\n};\nconst productReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.GET_PRODUCT_BY_RESTAURANT_ID_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n        message: null\n      };\n    case actionTypes.GET_PRODUCT_BY_RESTAURANT_ID_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        products: action.payload.content,\n        pagination: {\n          page: action.payload.pageable.pageNumber,\n          size: action.payload.pageable.pageSize,\n          totalPages: action.payload.totalPages,\n          totalElements: action.payload.totalElements\n        }\n      };\n    case actionTypes.GET_PRODUCT_BY_RESTAURANT_ID_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    case actionTypes.CREATE_PRODUCT_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n        message: null\n      };\n    case actionTypes.CREATE_PRODUCT_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        products: [...state.products, action.payload],\n        // Thêm sản phẩm mới vào danh sách\n        message: \"Product created successfully.\"\n      };\n    case actionTypes.CREATE_PRODUCT_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n        message: \"Failed to create product.\"\n      };\n    case actionTypes.UPDATE_PRODUCT_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case actionTypes.UPDATE_PRODUCT_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        products: state.products.map(product => product.id === action.payload.id ? action.payload : product),\n        message: \"Sản phẩm đã được cập nhật thành công.\"\n      };\n    case actionTypes.UPDATE_PRODUCT_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n        message: \"Cập nhật sản phẩm thất bại.\"\n      };\n    case actionTypes.DELETE_PRODUCT_REQUEST:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case actionTypes.DELETE_PRODUCT_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        products: state.products.filter(product => product.id !== action.payload // Loại bỏ sản phẩm đã xóa\n        ),\n        message: \"Xóa sản phẩm thành công.\"\n      };\n    case actionTypes.DELETE_PRODUCT_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n        message: \"Xóa sản phẩm thất bại.\"\n      };\n    default:\n      return state;\n  }\n};\nexport default productReducer;","map":{"version":3,"names":["actionTypes","initialState","products","loading","error","message","pagination","page","size","totalPages","totalElements","productReducer","state","action","type","GET_PRODUCT_BY_RESTAURANT_ID_REQUEST","GET_PRODUCT_BY_RESTAURANT_ID_SUCCESS","payload","content","pageable","pageNumber","pageSize","GET_PRODUCT_BY_RESTAURANT_ID_FAILURE","CREATE_PRODUCT_REQUEST","CREATE_PRODUCT_SUCCESS","CREATE_PRODUCT_FAILURE","UPDATE_PRODUCT_REQUEST","UPDATE_PRODUCT_SUCCESS","map","product","id","UPDATE_PRODUCT_FAILURE","DELETE_PRODUCT_REQUEST","DELETE_PRODUCT_SUCCESS","filter","DELETE_PRODUCT_FAILURE"],"sources":["C:/Users/DUONG/Desktop/Study/React/frontend_webiot/frontend_iot/src/componet/State/Product/Reducer.js"],"sourcesContent":["import * as actionTypes from \"./ActionType\";\r\n\r\nconst initialState = {\r\n  products: [],\r\n  loading: false,\r\n  error: null,\r\n  message: null,\r\n  pagination: {\r\n    page: 0,\r\n    size: 10,\r\n    totalPages: 0,\r\n    totalElements: 0,\r\n  },\r\n};\r\n\r\nconst productReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.GET_PRODUCT_BY_RESTAURANT_ID_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n        message: null,\r\n      };\r\n\r\n    case actionTypes.GET_PRODUCT_BY_RESTAURANT_ID_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        products: action.payload.content,\r\n        pagination: {\r\n          page: action.payload.pageable.pageNumber,\r\n          size: action.payload.pageable.pageSize,\r\n          totalPages: action.payload.totalPages,\r\n          totalElements: action.payload.totalElements,\r\n        },\r\n      };\r\n\r\n    case actionTypes.GET_PRODUCT_BY_RESTAURANT_ID_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case actionTypes.CREATE_PRODUCT_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n        message: null,\r\n      };\r\n\r\n    case actionTypes.CREATE_PRODUCT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        products: [...state.products, action.payload], // Thêm sản phẩm mới vào danh sách\r\n        message: \"Product created successfully.\",\r\n      };\r\n\r\n    case actionTypes.CREATE_PRODUCT_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n        message: \"Failed to create product.\",\r\n      };\r\n    case actionTypes.UPDATE_PRODUCT_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n\r\n    case actionTypes.UPDATE_PRODUCT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        products: state.products.map((product) =>\r\n          product.id === action.payload.id ? action.payload : product\r\n        ),\r\n        message: \"Sản phẩm đã được cập nhật thành công.\",\r\n      };\r\n\r\n    case actionTypes.UPDATE_PRODUCT_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n        message: \"Cập nhật sản phẩm thất bại.\",\r\n      };\r\n\r\n      case actionTypes.DELETE_PRODUCT_REQUEST:\r\n        return {\r\n          ...state,\r\n          loading: true,\r\n          error: null,\r\n        };\r\n  \r\n      case actionTypes.DELETE_PRODUCT_SUCCESS:\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          products: state.products.filter(\r\n            (product) => product.id !== action.payload // Loại bỏ sản phẩm đã xóa\r\n          ),\r\n          message: \"Xóa sản phẩm thành công.\",\r\n        };\r\n  \r\n      case actionTypes.DELETE_PRODUCT_FAILURE:\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          error: action.payload,\r\n          message: \"Xóa sản phẩm thất bại.\",\r\n        };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default productReducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}